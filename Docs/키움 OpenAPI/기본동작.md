
# 키움 OpenAPI 

## [기본동작]
OpenAPI 데이터 요청과 데이터 수신 이벤트는 모두 비동기 방식입니다.  
(반드시 조회요청한 순서대로 수신되지는 않습니다.)  
시세조회나 주문 등 함수호출을 통해 서버로 요청하면 서버의 처리 결과를 그에 맞는 이벤트 발생으로 전달합니다.  
이벤트는 일반함수와 구별하기 위해 "On~" 으로 시작되는 이름을 갖습니다.  
OnEventConnect (로그인처리완료), OnReceiveTRData (조회요청응답), OnReceiveRealData (실시간시세수신)


## [데이터요청과 수신]
    예) 조회요청.
    요청(조회함수 CommRqData 사용자가 호출)  --> 이벤트 발생(OnReceiveTRData) --> 데이터 획득(GetCommData 사용자가 호출)
    
    예) 조건검색요청.
    요청(조회함수 SendCondition 사용자가 호출)  --> 이벤트 발생(OnReceiveTrCondition)
    
    예) 주문요청.
    요청(주문함수 SendOrder 사용자가 호출)  --> 이벤트 발생(OnReceiveTRData) --> 이벤트 발생 (OnReceiveChejanData) --> 데이터 획득(GetChejanData 사용자가 호출)

※ 이벤트를 임의로 호출해서 사용하는 것은 불가 합니다.


## [계좌번호]
OpenAPI에서는 10자리의 계좌번호가 사용됩니다.  
영웅문4 등에서는 끝 2자리를 고객님께 노출하지 않고 8자릿수로 제공됩니다.  
OpenAPI에서는 계좌의 끝 2자리를 따로 관리하지 않고  
사용자가 입력한 그대로의 계좌번호를 사용하도록 설계되어 있습니다.  
따라서 데이터 조회 또는 주문시 계좌번호 10자리를 모두 입력해주셔야 합니다.


## [화면번호]
서버에 데이터를 요청하거나, 주문을 발생시킬때 사용합니다.  
화면번호는 서버의 결과를 수신할때 어떤 요청에 의한 수신인지를 구별하기 위한 키값의 개념입니다.  
0000을 제외한 임의의 숫자(4자리)를 자유롭게 사용하시면 됩니다.

### ※ 화면번호 사용시 주의할 점 :
같은 화면번호로 데이터 요청을 빠르게 반복하는 경우 데이터의 유효성을 보장할 수 없습니다.  
최소한 2개이상의 화면번호를 번갈아가며 또는 매번 새로운 화면번호를 사용하시기 바랍니다.  
사용자 프로그램에서 사용할 수 있는 화면번호 갯수가 200개로 한정되어 있습니다.  
이 갯수를 넘는 경우 데이터의 유효성을 보장할 수 없습니다.  

(구현하시는 프로그램 성격상  화면번호 갯수가 200개가 넘어야 하는 경우, 이전에 사용되었던 화면번호를 재사용 하는 방식으로 구현해야 합니다.)
