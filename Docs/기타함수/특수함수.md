### ============================================================
### 개발 가이드 :: 기타함수 :: 특수함수
### ============================================================


[KOA_Functions() 함수]

KOA_Functions(
BSTR sFunctionName,   // 함수이름 혹은 기능이름
BSTR sParam   // 함수 매개변수
))

KOA_Function() 함수는 OpenAPI기본 기능외에 기능을 사용하기 쉽도록 만든 함수입니다.
두 개의 인자값을 사용합니다.

------------------------------------------------------------------------------------------------------------------------------------

[KOA_Functions() 함수 사용예시]

1. 계좌비밀번호 입력창 출력
OpenAPI.KOA_Functions(_T("ShowAccountWindow"), _T(""));// 계좌비밀번호 입력창을 출력한다.


2. 접속서버확인
OpenAPI.KOA_Functions(_T("GetServerGubun"), _T(""));// 접속서버 구분을 알려준다. 1 : 모의투자 접속, 나머지 : 실서버 접속


3. 주식종목 시장구분, 종목분류등 정보제공
OpenAPI.KOA_Functions(_T("GetMasterStockInfo"), _T("039490"));
호출결과는 입력한 종목에 대한 대분류, 중분류, 업종구분값을 구분자로 연결한 문자열입니다.
구분자는 '|'와 ';'입니다.
예)
OpenAPI.KOA_Functions("GetMasterStockInfo", "039490")을 호출하면
시장구분0|거래소;시장구분1|중형주;업종구분|금융업; 이렇게 결과를 얻을 수 있습니다.


4. 조검검색 종목코드와 현재가 수신(실시간 조건검색은 사용할수 없음)
조건검색결과에 종목코드와 그 종목의 현재가를 함께 수신하는 방법이며 실시간 조건검색에서는 사용할 수 없고 오직 조건검색에만 사용할수 있습니다.
OpenAPI.KOA_Functions(_T("SetConditionSearchFlag"), _T("AddPrice")); // 현재가 포함하도록 설정
현재가 포함으로 설정시 OnReceiveTrCondition()이벤트에 "종목코드1^현재가1;종목코드2^현재가2;...종목코드n^현재가n"형식으로 전달됨

OpenAPI.KOA_Functions(_T("SetConditionSearchFlag"), _T("DelPrice")); // 현재가 미포함 (원래상태로 전환)
현재가 미포함시 기존처럼 "종목코드1^종목코드2...종목코드n" 형식으로 전달므로 설정에 따라 수신데이터 처리방법이 달라져야 하므로 주의하셔야 합니다
이 방법은 실시간 조건검색에서는 사용할 수 없고 수신데이터에 현재가가 포함되므로 데이터처리방법을 달리해야 합니다


5. 업종코드목록 획득
OpenAPI.KOA_Functions(_T("GetUpjongCode"), _T("0")); // 업종코드요청
두 번째 인자로 사용할 수 있는 값은 0,1,2,4,7 입니다.
0:코스피, 1: 코스닥, 2:KOSPI200, 4:KOSPI100(KOSPI50), 7:KRX100
함수반환값은 "시장구분값,업종코드,업종명|시장구분값,업종코드,업종명|...|시장구분값,업종코드,업종명" 형식입니다.
즉 하나의 업종코드는 입력한 시장구분값과 업종코드 그리고 그 업종명이 쉼표(,)로 구분되며 각 업종코드는 '|'로 구분됩니다.


6. 업종이름 획득
OpenAPI.KOA_Functions(_T("GetUpjongNameByCode"), _T("업종코드입력"));


7. ETF 투자유의 종목 여부 (2020/9/17 적용)
거래소 제도개선으로 ETF/ETN 종목 중 투자유의 종목을 매수주문하는 경우 경고 메세지 창이 출력되도록 기능이 추가 되었습니다.
(경고 창 출력 시 주문을 중지/전송 선택 가능합니다.)
주문 함수를 호출하기 전에 특정 종목이 투자유의종목인지 아래와 같은 방법으로 확인할 수 있습니다.

KOA_Functions("IsOrderWarningETF", "종목코드(6자리)")
투자유의 종목인 경우 "1" 값이 리턴, 그렇지 않은 경우 "0" 값 리턴. (ETF가 아닌 종목을 입력시 "0" 값 리턴.)


8. 주식 전종목대상 투자유의 종목 여부 (2020/11/26 적용)
거래소 제도개선으로 주식 종목 중 정리매매/단기과열/투자위험/투자경고 종목을 매수주문하는 경우
경고 메세지 창이 출력되도록 기능이 추가 되었습니다.
(경고 창 출력 시 주문을 중지/전송 선택 가능합니다.)
주문 함수를 호출하기 전에 특정 종목이 투자유의종목인지 아래와 같은 방법으로 확인할 수 있습니다.

KOA_Functions("IsOrderWarningStock", "종목코드(6자리)")
리턴 값 - "0":해당없음, "2":정리매매, "3":단기과열, "4":투자위험, "5":투자경고

------------------------------------------------------------------------------------------------------------------------------------
